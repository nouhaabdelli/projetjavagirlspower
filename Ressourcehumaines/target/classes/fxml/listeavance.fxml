<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>

<AnchorPane prefHeight="750.0" prefWidth="1250.0" style="-fx-background-color: #f0f8ff;" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="gui.listeavancecontroller">
    <children>
        <!-- Floating Header -->
        <HBox layoutX="0.0" layoutY="29.0" prefHeight="126.0" prefWidth="1250.0" styleClass="header">
            <Button fx:id="btnSidebarToggle" prefHeight="50.0" prefWidth="50.0" styleClass="sidebar-toggle" text="☰" />
            <Label prefHeight="47.0" prefWidth="346.0" styleClass="header-title" text="Gestion des Avances" />
            <HBox prefHeight="86.0" prefWidth="94.0" spacing="15.0" styleClass="header-actions">
                <ToggleButton fx:id="themeToggle" prefHeight="47.0" prefWidth="51.0" styleClass="theme-toggle" text="🌙" />
                <Button fx:id="retourButton" onAction="#handleRetour" text="⬅ Retour" style="-fx-background-color: #1e3a8a; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 5 10;" />
            </HBox>
        </HBox>

        <!-- Content Area -->
        <AnchorPane fx:id="contentArea" layoutX="0.0" layoutY="167.0" prefHeight="582.0" prefWidth="1250.0" styleClass="content-area">
            <!-- Dynamic Content Area -->
            <AnchorPane fx:id="dynamicContent" layoutX="39.0" layoutY="46.0" prefHeight="534.0" prefWidth="1191.0" styleClass="glass-card">
                <TableView fx:id="avanceTable" layoutX="23.0" layoutY="14.0" prefHeight="490.0" prefWidth="1157.0">
                    <columns>
                        <TableColumn fx:id="montantColumn" prefWidth="150.0" text="Montant" />
                        <TableColumn fx:id="dureeColumn" prefWidth="150.0" text="Durée" />
                        <TableColumn fx:id="dateColumn" prefWidth="150.0" text="Date Avance" />
                        <TableColumn fx:id="niveauUrgenceColumn" prefWidth="150.0" text="Niveau Urgence" />
                        <TableColumn fx:id="etatColumn" prefWidth="150.0" text="État" />
                        <TableColumn fx:id="colModifier" prefWidth="137.6" text="Modifier" />
                        <TableColumn fx:id="colSupprimer" prefWidth="134.4" text="Supprimer" />
                        <TableColumn fx:id="colAfficher" prefWidth="109.6" text="Afficher" />
                    </columns>
                </TableView>
            </AnchorPane>
            <!-- Search Panel -->
            <HBox layoutX="324.0" layoutY="3.0" prefHeight="86.0" prefWidth="694.0" spacing="15.0" styleClass="search-filter-panel">
                <TextField fx:id="searchField" prefHeight="54.0" prefWidth="502.0" promptText="Rechercher une avance..." styleClass="search-field" />
                <Button fx:id="btnSearch" onAction="#rechercherAvance" styleClass="action-button" text="🔍 Rechercher" />
            </HBox>
        </AnchorPane>
    </children>
</AnchorPane>